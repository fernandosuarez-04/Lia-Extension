# Sistema de Dise√±o SOFIA - Gu√≠a de Identidad Visual

## 1. Paleta de Colores

### Colores Principales (Core)

#### 1.1 Azul Profundo - `#0A2540`

- **Psicolog√≠a**: Transmite seriedad, estabilidad, confianza B2B. Evoca tecnolog√≠a profesional y confiabilidad.
- **Uso**:
  - Fondos de header
  - Botones primarios
  - Elementos clave de navegaci√≥n
  - Textos principales en modo claro
  - Bordes y acentos estructurales
- **Aplicaci√≥n**: Color principal de la marca, representa la base tecnol√≥gica s√≥lida.

#### 1.2 Aqua / Verde Azulado - `#00D4B3`

- **Psicolog√≠a**: Evoca crecimiento, innovaci√≥n, frescura. Representa aprendizaje activo e IA viva.
- **Uso**:
  - Acentos y resaltes en UI
  - Estado activo de elementos
  - Barras de progreso
  - M√©tricas positivas
  - Elementos asociados a LIA (asistente de IA)
  - Enlaces y acciones destacadas
- **Aplicaci√≥n**: Color de acci√≥n y dinamismo, representa el aprendizaje continuo.

#### 1.3 Blanco / Casi Blanco - `#FFFFFF`

- **Psicolog√≠a**: Sensaci√≥n de espacio, transparencia, foco. Claridad y orden.
- **Uso**:
  - Fondos de tarjetas
  - √Åreas de lectura
  - Pantallas principales en modo claro
  - Textos sobre fondos oscuros
  - Espacios negativos para respiraci√≥n visual
- **Aplicaci√≥n**: Base para contraste y legibilidad.

### Colores Secundarios

#### 2.1 Verde Suave - `#10B981`

- **Psicolog√≠a**: Logro, progreso, √©xito, completado.
- **Uso**:
  - Estados de √©xito
  - Indicadores de completado
  - "Objetivo alcanzado"
  - Badges de logro
  - Confirmaciones positivas

#### 2.2 Amarillo √Åmbar Suave - `#F59E0B`

- **Psicolog√≠a**: Alerta, foco, atenci√≥n, advertencia suave.
- **Uso**:
  - Notificaciones importantes
  - M√≥dulos pendientes
  - Riesgos detectados
  - Estados de advertencia (no cr√≠ticos)
  - Recordatorios

#### 2.3 Grises Neutros

**Gris Claro - `#E9ECEF`**

- **Uso**:
  - Fondos secundarios
  - Separadores sutiles
  - Bordes suaves
  - Estados hover suaves

**Gris Medio - `#6C757D`**

- **Uso**:
  - Textos secundarios
  - Iconos deshabilitados
  - Separar secciones
  - Estructurar tablas
  - Mantener look limpio

### Colores para Modo Oscuro

#### Fondo Principal Oscuro - `#0F1419`

- **Uso**: Fondo principal de la aplicaci√≥n en modo oscuro
- **Psicolog√≠a**: Profundidad, enfoque, reduce fatiga visual

#### Fondo Secundario Oscuro - `#1E2329`

- **Uso**:
  - Tarjetas y modales en modo oscuro
  - Fondos de secciones secundarias
  - Superficies elevadas

#### Fondo Terciario Oscuro - `#0A0D12`

- **Uso**:
  - Fondos de elementos anidados
  - √Åreas de menor jerarqu√≠a visual

## 2. Tipograf√≠a

### Familia Principal: Inter

**Caracter√≠sticas**:

- Sans serif moderna
- Legible en pantalla
- Buena variedad de pesos
- Dise√±ada para interfaces digitales

### Escala Tipogr√°fica

#### T√≠tulos

**H1 - T√≠tulo Principal**

- **Peso**: Bold (700)
- **Tama√±o**: 40px (2.5rem)
- **Line Height**: 1.2
- **Tracking**: Ligeramente abierto
- **Uso**: T√≠tulos principales de p√°gina, hero sections

**H2 - T√≠tulo de Secci√≥n**

- **Peso**: Semibold (600) o Bold (700)
- **Tama√±o**: 28px (1.75rem)
- **Line Height**: 1.3
- **Uso**: T√≠tulos de secciones principales

#### Subt√≠tulos

**Subt√≠tulo / Secciones**

- **Peso**: Medium (500)
- **Tama√±o**: 20px (1.25rem)
- **Line Height**: 1.4
- **Uso**: Subt√≠tulos de secciones, encabezados de tarjetas

#### Cuerpo de Texto

**Body - Texto Principal**

- **Peso**: Regular (400)
- **Tama√±o**: 16px (1rem)
- **Line Height**: 1.5
- **Uso**: P√°rrafos, contenido principal, descripciones

**Body Small - Texto Secundario**

- **Peso**: Regular (400)
- **Tama√±o**: 14px (0.875rem)
- **Line Height**: 1.5
- **Uso**: Textos secundarios, metadata, captions

#### UI Elements

**UI - Elementos de Interfaz**

- **Peso**: Medium (500)
- **Tama√±o**: 14px (0.875rem)
- **Line Height**: 1.4
- **Uso**: Botones, labels, elementos interactivos

**UI Small - Elementos Peque√±os**

- **Peso**: Medium (500)
- **Tama√±o**: 12px (0.75rem)
- **Line Height**: 1.4
- **Uso**: Badges, tags, textos de ayuda

## 3. Iconograf√≠a

### Estilo de Iconos

- **Estilo**: Line icons con peso medio (1.5-2px)
- **Tama√±o est√°ndar**: 20px, 24px, 32px
- **Color**:
  - Primario: `#0A2540` (modo claro) / `#FFFFFF` (modo oscuro)
  - Acento: `#00D4B3` para estados activos
  - Secundario: `#6C757D` para iconos deshabilitados
- **Familia recomendada**: Lucide Icons (ya implementada)

### Uso de Iconos

- **Navegaci√≥n**: Iconos claros y reconocibles
- **Acciones**: Iconos de acci√≥n con color acento cuando est√°n activos
- **Estados**: Iconos que cambian de color seg√∫n el estado (activo, deshabilitado, error)

## 4. Estilo Gr√°fico

### Recursos Visuales

- **Abstracciones tecnol√≥gicas**: Nodos, redes, capas superpuestas, flujos
- **Patrones modulares**: Rejillas, bloques y tarjetas que se ensamblan
- **Grafismos de IA**: L√≠neas curvas que conectan puntos, gradientes sutiles

### Texturas y Patrones

- **Fondos sutiles**: Malla de nodos o capas trasl√∫cidas para secciones clave
- **Prioridad**: Superficies limpias con patrones ligeros
- **Evitar**: Texturas ruidosas que compitan con el contenido

### Tratamiento de Im√°genes

- **Ilustraci√≥n**: Vectorial o 3D suave, formas redondeadas
- **Personas**: Representaci√≥n inclusiva y diversa
- **Contexto**: Enfocado en contextos laborales reales
- **Uso en UI**: Estados vac√≠os, onboarding, mensajes de LIA, marketing

## 5. Principios de Dise√±o

### Filosof√≠a Visual

- **Cool**: Est√©tica moderna y sofisticada
- **Tecnol√≥gico**: Evoca innovaci√≥n sin ser fr√≠o
- **Humano**: Accesible y acogedor
- **Limpio**: Espacios bien organizados, sin saturaci√≥n visual

### Contraste y Legibilidad

- **Ratio m√≠nimo**: 4.5:1 para texto normal, 3:1 para texto grande
- **Fondos**: Usar colores s√≥lidos o gradientes sutiles
- **Textos**: Alto contraste sobre fondos oscuros/claros seg√∫n el modo

### Espaciado

- **Sistema de 8px**: Base para todos los espaciados
- **Consistencia**: Mantener espaciados uniformes entre elementos relacionados
- **Respiraci√≥n**: Espacios generosos para mejorar legibilidad

## 6. Aplicaci√≥n en Componentes

### Botones

- **Primario**: Fondo `#0A2540`, texto blanco, hover `#0d2f4d`
- **Secundario**: Borde `#0A2540`, texto `#0A2540`, hover fondo `#0A2540`
- **Acento**: Fondo `#00D4B3`, texto blanco o `#0A2540`
- **Ghost**: Transparente, texto seg√∫n contexto

### Tarjetas

- **Fondo**: Blanco (modo claro) / `#1E2329` (modo oscuro)
- **Borde**: Sutil, `#E9ECEF` (modo claro) / `#6C757D` (modo oscuro)
- **Sombra**: Sutil para elevaci√≥n
- **Radio**: 12px-16px para esquinas redondeadas

### Enlaces

- **Color**: `#00D4B3` (aqua)
- **Hover**: Subrayado o cambio de opacidad
- **Visitado**: Mismo color con opacidad reducida

### Estados

- **Activo**: `#00D4B3` (aqua)
- **√âxito**: `#10B981` (verde suave)
- **Advertencia**: `#F59E0B` (√°mbar suave)
- **Error**: Rojo suave (definir seg√∫n necesidad)
- **Deshabilitado**: `#6C757D` con opacidad reducida

## 7. Aplicaci√≥n a Producto Digital (UI/UX)

### 7.1 Estilo General de la Interfaz

#### Botones

- **Primarios**:
  - Relleno s√≥lido en azul profundo (`#0A2540`)
  - Bordes ligeramente redondeados (12px-16px)
  - Texto blanco para m√°ximo contraste
  - Hover con ligera elevaci√≥n y cambio de tono

- **Secundarios**:
  - Borde visible y fondo blanco
  - Mantienen jerarqu√≠a clara sin competir con primarios
  - Texto en azul profundo para coherencia

#### Tarjetas

- **Uso intensivo** para:
  - Rutas de aprendizaje
  - C√°psulas de contenido
  - Recomendaciones de LIA
  - M√≥dulos educativos

- **Caracter√≠sticas**:
  - Sombras suaves y consistentes (no dram√°ticas)
  - Bordes sutiles para definici√≥n
  - Espaciado generoso interno
  - Hover sutil para interactividad

#### Fondos y Grillas

- **Fondos claros**:
  - Mucho espacio en blanco para respiraci√≥n visual
  - Fondos neutros que no compiten con el contenido
  - Transiciones suaves entre secciones

- **Sistema de grillas**:
  - Grilla de 12 columnas para dashboards y paneles
  - Mantiene orden y consistencia
  - Responsive con breakpoints claros

#### Coherencia entre Pantallas

**Dashboards (Pantallas Densas)**:

- Layouts de 2-3 columnas con tarjetas de datos
- Overview primero, detalle en clic
- KPIs clave visibles de inmediato
- Gr√°ficos secundarios organizados jer√°rquicamente

**M√≥dulos de Aprendizaje (Pantallas Ligeras)**:

- Vistas m√°s enfocadas
- Un solo foco de atenci√≥n por pantalla
- Elementos de distracci√≥n m√≠nimos
- Navegaci√≥n clara y simple

### 7.2 Uso de Color en UI

#### Jerarqu√≠a de Informaci√≥n

- **Elementos clave**:
  - Botones primarios: Azul profundo (`#0A2540`)
  - Acciones principales: Azul profundo
  - Progresos relevantes: Azul profundo o Aqua (`#00D4B3`)

- **M√©tricas y estados positivos**:
  - Progreso: Verde suave (`#10B981`) o Aqua (`#00D4B3`)
  - Completado: Verde suave
  - Logros: Aqua para destacar

- **Tipograf√≠a**:
  - Texto principal: Casi negro / gris muy oscuro (`#0A2540` o `#1E2329`)
  - Texto secundario: Grises medios (`#6C757D`)
  - Texto deshabilitado: Gris claro con opacidad reducida

#### Colores para Estados

- **√âxito**: Verde suave (`#10B981`)
  - Completado, guardado, confirmado
  - Badges de logro
  - Indicadores de progreso positivo

- **Alerta / Riesgo**: √Åmbar (`#F59E0B`)
  - Notificaciones importantes
  - M√≥dulos pendientes
  - Advertencias no cr√≠ticas

- **Informaci√≥n**: Aqua / Azul claro (`#00D4B3`)
  - Mensajes informativos
  - Tips y sugerencias
  - Estados activos

- **Error cr√≠tico**: Rojo moderado
  - Reservado solo para mensajes realmente importantes
  - Errores que requieren acci√≥n inmediata
  - No usar para advertencias menores

#### Acciones Primarias vs. Secundarias

- **Primaria**:
  - Bot√≥n s√≥lido con color de alta saturaci√≥n
  - M√°xima visibilidad y contraste
  - Acci√≥n principal de la pantalla

- **Secundaria**:
  - Contorno o texto solamente
  - Nunca compiten en saturaci√≥n con primarias
  - Mantienen jerarqu√≠a visual clara

#### Espacio Conversacional de LIA

- **Burbujas de chat**:
  - Mensajes de LIA: Acento de color Aqua (`#00D4B3`)
  - Mensajes del usuario: Neutro (gris/blanco)
  - Diferenciaci√≥n clara entre emisor y receptor

- **Caracter√≠sticas del espacio**:
  - Tipograf√≠a muy legible (Inter, 16px m√≠nimo)
  - L√≠neas de tiempo organizadas
  - Opciones r√°pidas: chips y botones accesibles
  - "Lugar seguro y claro" para interacci√≥n

### 7.3 Principios de Dise√±o

#### 1. Siempre Explicable

**Principio**: El sistema debe explicar por qu√© recomienda algo.

**Ejemplo**:

- En el panel de ruta de aprendizaje, cada m√≥dulo incluye "¬øpor qu√© lo ves?" con una breve explicaci√≥n
- LIA siempre justifica sus recomendaciones
- Los filtros muestran el impacto de su selecci√≥n

#### 2. Datos Primero, Ruido M√≠nimo

**Principio**: Mostrar lo esencial de un vistazo, sin adornos innecesarios.

**Ejemplo**:

- En el dashboard, KPIs clave (progreso, adopci√≥n, impacto) arriba
- Gr√°ficos secundarios abajo
- Informaci√≥n accesible pero no abrumadora

#### 3. No Abrumar con Visualizaciones

**Principio**: Gr√°ficos simples, con foco; nada de dashboards "√°rbol de Navidad".

**Ejemplo**:

- En el panel de anal√≠tica, preferir un gr√°fico principal con filtros claros
- Evitar cinco gr√°ficos peque√±os e ilegibles
- Calidad sobre cantidad en visualizaciones

#### 4. Un Solo Foco por Pantalla

**Principio**: Cada vista debe tener una acci√≥n principal clara.

**Ejemplo**:

- En la c√°psula de microaprendizaje, reducir opciones a:
  - "Completar" (acci√≥n principal)
  - "Guardar para despu√©s" (secundaria)
  - "Ver recursos relacionados" (terciaria)

#### 5. Lenguaje y Visual Alineados

**Principio**: Lo que se ve y lo que se lee deben contar la misma historia.

**Ejemplo**:

- Si LIA habla de "ruta simplificada", la interfaz muestra:
  - Menos pasos visibles
  - Solo m√≥dulos esenciales resaltados
  - Navegaci√≥n m√°s directa

#### 6. Personalizaci√≥n Visible

**Principio**: Que el usuario perciba que la experiencia est√° hecha para √©l/ella.

**Ejemplo**:

- En el panel personal, mostrar:
  - Rol del usuario
  - Metas establecidas
  - Competencias foco
  - "Pr√≥ximo mejor paso" destacado

#### 7. Consistencia ante Todo

**Principio**: Patrones repetibles de botones, tarjetas, iconos y estilos de gr√°ficos.

**Ejemplo**:

- Las c√°psulas de microaprendizaje tienen siempre los mismos elementos:
  - Duraci√≥n
  - Formato
  - Objetivo
  - Nivel
- En el mismo orden y posici√≥n
- Mismos estilos de interacci√≥n

### 7.4 Gu√≠as de Implementaci√≥n

#### Componentes Reutilizables

- **Tarjetas de m√≥dulo**: Estructura consistente con t√≠tulo, descripci√≥n, duraci√≥n, nivel
- **Botones de acci√≥n**: Variantes claramente definidas (primario, secundario, acento)
- **Indicadores de progreso**: Barras y c√≠rculos con colores consistentes
- **Burbujas de chat**: Estilos diferenciados para LIA y usuario

#### Patrones de Navegaci√≥n

- **Breadcrumbs**: Para rutas de aprendizaje complejas
- **Tabs**: Para alternar entre vistas relacionadas
- **Sidebar**: Para navegaci√≥n principal en dashboards
- **Bottom navigation**: Para m√≥viles en vistas principales

#### Feedback Visual

- **Estados de carga**: Spinners sutiles, skeletons para contenido
- **Confirmaciones**: Toasts no intrusivos, modales para acciones cr√≠ticas
- **Errores**: Mensajes claros con acciones sugeridas
- **√âxito**: Confirmaciones breves y celebratorias

## 8. Patr√≥n de Modales: Split Panel Modal

### 8.1 Descripci√≥n

El **Split Panel Modal** es el patr√≥n de dise√±o oficial para todos los modales complejos en SOFIA. Inspirado en el estilo de Notion y Linear, proporciona una experiencia de usuario premium y consistente.

### 8.2 Caracter√≠sticas del Patr√≥n

#### Estructura de Dos Columnas

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                                                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ              ‚îÇ                                ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   PREVIEW    ‚îÇ           FORM                 ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   PANEL      ‚îÇ           PANEL                ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   (320px)    ‚îÇ           (flex-1)             ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ              ‚îÇ                                ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - Avatar    ‚îÇ  - Header con t√≠tulo           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - Info      ‚îÇ  - Campos del formulario       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - Stats     ‚îÇ  - Secciones organizadas       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - Actions   ‚îÇ  - Footer con botones          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ              ‚îÇ                                ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### Panel Izquierdo (Preview)

- **Ancho fijo**: `320px` (`w-80`)
- **Contenido**:
  - Icono o avatar con animaci√≥n
  - T√≠tulo contextual
  - Preview en tiempo real de los datos
  - Informaci√≥n secundaria
  - Botones de acci√≥n secundaria
- **Estilo**: Gradiente sutil usando colores de la organizaci√≥n
- **Fondo**: `linear-gradient(135deg, ${primaryColor}15, ${accentColor}10)`

#### Panel Derecho (Form)

- **Ancho flexible**: `flex-1`
- **Secciones**:
  1. **Header**: T√≠tulo, subt√≠tulo y bot√≥n de cerrar
  2. **Content**: Campos del formulario con scroll
  3. **Footer**: Botones de acci√≥n (Cancelar, Guardar)

### 8.3 Especificaciones T√©cnicas

#### Backdrop

```tsx
// SIN fondo - Transparente
<motion.div className="absolute inset-0" onClick={onClose} />

// O con glassmorphism suave (opcional)
<motion.div
  className="absolute inset-0 backdrop-blur-md"
  style={{ backgroundColor: 'rgba(0, 0, 0, 0.3)' }}
  onClick={onClose}
/>
```

#### Contenedor Principal

```tsx
<div
  className="fixed inset-0 flex items-center justify-center"
  style={{ zIndex: 99999 }}
>
```

#### Modal Box

```tsx
<div
  className="rounded-2xl shadow-2xl overflow-hidden border border-white/10"
  style={{ backgroundColor: "var(--org-card-background, #1a1f2e)" }}
>
  <div className="flex min-h-[550px]">
    {/* Left Panel */}
    <div
      className="w-80 p-8 border-r border-white/5"
      style={{
        background: `linear-gradient(135deg, ${primaryColor}15, ${accentColor}10)`,
      }}
    >
      ...
    </div>

    {/* Right Panel */}
    <div className="flex-1 flex flex-col">...</div>
  </div>
</div>
```

### 8.4 Elementos del Preview Panel

#### Avatar/Icono Animado

```tsx
<motion.div
  initial={{ scale: 0.8, opacity: 0 }}
  animate={{ scale: 1, opacity: 1 }}
  className="relative"
>
  <div
    className="w-24 h-24 rounded-2xl flex items-center justify-center"
    style={{
      background: `linear-gradient(135deg, ${primaryColor}, ${accentColor})`,
      boxShadow: `0 8px 30px ${primaryColor}40`,
    }}
  >
    {/* Contenido del avatar */}
  </div>

  {/* Badge animado */}
  <motion.div
    animate={{ scale: [1, 1.2, 1] }}
    transition={{ duration: 2, repeat: Infinity }}
    className="absolute -top-2 -right-2 w-8 h-8 rounded-full"
    style={{ backgroundColor: accentColor }}
  >
    <Sparkles className="w-4 h-4 text-white" />
  </motion.div>
</motion.div>
```

### 8.5 Colores y Theming

Los modales **DEBEN** usar los colores personalizados de la organizaci√≥n:

```tsx
const { styles } = useOrganizationStylesContext();
const panelStyles = styles?.panel;

const primaryColor = panelStyles?.primary_button_color || "#0EA5E9";
const accentColor = panelStyles?.accent_color || "#10B981";
```

#### Aplicaci√≥n de Colores

- **Gradientes de botones**: `linear-gradient(135deg, ${primaryColor}, ${accentColor})`
- **Sombras**: `0 4px 15px ${primaryColor}40`
- **Badges y estados activos**: `backgroundColor: ${primaryColor}20`
- **Bordes activos**: `borderColor: ${primaryColor}`

### 8.6 Inputs y Campos

#### Estilo de Input

```tsx
<input
  className="w-full px-4 py-2.5 rounded-xl bg-white/5 border border-white/10 
             text-white placeholder-white/30 focus:outline-none focus:border-white/20 
             transition-colors"
/>
```

#### Input con Icono

```tsx
<div className="relative">
  <Icon className="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/30" />
  <input className="pl-10 ..." />
</div>
```

### 8.7 Botones del Footer

```tsx
{
  /* Bot√≥n Cancelar */
}
<button
  className="px-4 py-2.5 rounded-xl text-sm font-medium text-white/70 
                   hover:text-white hover:bg-white/5 transition-colors"
>
  Cancelar
</button>;

{
  /* Bot√≥n Principal */
}
<motion.button
  whileHover={{ scale: 1.02 }}
  whileTap={{ scale: 0.98 }}
  className="px-5 py-2.5 rounded-xl text-sm font-medium text-white"
  style={{
    background: `linear-gradient(135deg, ${primaryColor}, ${accentColor})`,
    boxShadow: `0 4px 15px ${primaryColor}40`,
  }}
>
  Acci√≥n Principal
</motion.button>;
```

### 8.8 Modales Implementados con este Patr√≥n

| Modal             | Archivo                        | Descripci√≥n                             |
| ----------------- | ------------------------------ | --------------------------------------- |
| Crear Equipo      | `BusinessTeamModal.tsx`        | Crear/editar equipos de trabajo         |
| Agregar Usuario   | `BusinessAddUserModal.tsx`     | Agregar nuevo usuario a la organizaci√≥n |
| Importar Usuarios | `BusinessImportUsersModal.tsx` | Importar usuarios desde CSV             |

### 8.9 Cu√°ndo Usar Este Patr√≥n

‚úÖ **Usar Split Panel Modal para:**

- Formularios de creaci√≥n/edici√≥n con m√∫ltiples campos
- Acciones que requieren preview o visualizaci√≥n previa
- Wizards o procesos de varios pasos
- Modales con acciones secundarias

‚ùå **NO usar para:**

- Confirmaciones simples (usar Alert Dialog)
- Mensajes de √©xito/error (usar Toast)
- Pop-ups informativos breves (usar Popover)

## 9. Patr√≥n de Dropdowns: Premium Dropdown

### 9.1 Descripci√≥n

El **Premium Dropdown** es el patr√≥n de dise√±o oficial para todos los selectores y filtros en SOFIA. Reemplaza los elementos `<select>` nativos del navegador con dropdowns personalizados que mantienen consistencia visual con el resto de la aplicaci√≥n.

### 9.2 Caracter√≠sticas del Patr√≥n

- **Dise√±o oscuro** consistente con el tema de la organizaci√≥n
- **Animaciones suaves** con Framer Motion
- **Indicador visual** de opci√≥n seleccionada
- **Icono de chevron animado** que rota al abrir/cerrar
- **Bordes din√°micos** que cambian cuando hay una selecci√≥n activa

### 9.3 Estructura del Componente

```tsx
// Estado para controlar visibilidad
const [isDropdownOpen, setIsDropdownOpen] = useState(false);
const [selectedValue, setSelectedValue] = useState("all");

// Opciones del dropdown
const options = [
  { value: "all", label: "Todas las opciones" },
  { value: "option1", label: "Opci√≥n 1" },
  { value: "option2", label: "Opci√≥n 2" },
];
```

### 9.4 Especificaciones T√©cnicas

#### Bot√≥n Trigger

```tsx
<div className="relative min-w-[160px]">
  <button
    type="button"
    onClick={() => setIsDropdownOpen(!isDropdownOpen)}
    className="w-full px-4 py-3.5 rounded-xl border-2 flex items-center justify-between gap-2 transition-all duration-300"
    style={{
      backgroundColor: "var(--org-card-background, #1E2329)",
      borderColor:
        selectedValue !== "all" ? primaryColor : "rgba(255,255,255,0.1)",
      color: "var(--org-text-color, #FFFFFF)",
    }}
  >
    <span className="text-sm">
      {options.find((o) => o.value === selectedValue)?.label}
    </span>
    <motion.svg
      animate={{ rotate: isDropdownOpen ? 180 : 0 }}
      className="w-4 h-4 opacity-50"
      fill="none"
      stroke="currentColor"
      viewBox="0 0 24 24"
    >
      <path
        strokeLinecap="round"
        strokeLinejoin="round"
        strokeWidth={2}
        d="M19 9l-7 7-7-7"
      />
    </motion.svg>
  </button>

  {/* Menu desplegable */}
</div>
```

#### Men√∫ Desplegable con Animaci√≥n

```tsx
<AnimatePresence>
  {isDropdownOpen && (
    <motion.div
      initial={{ opacity: 0, y: -10, scale: 0.95 }}
      animate={{ opacity: 1, y: 0, scale: 1 }}
      exit={{ opacity: 0, y: -10, scale: 0.95 }}
      transition={{ duration: 0.15 }}
      className="absolute top-full left-0 right-0 mt-2 rounded-xl border overflow-hidden shadow-2xl z-50"
      style={{
        backgroundColor: "var(--org-card-background, #1E2329)",
        borderColor: "rgba(255,255,255,0.15)",
      }}
    >
      {options.map((option) => (
        <button
          key={option.value}
          type="button"
          onClick={() => {
            setSelectedValue(option.value);
            setIsDropdownOpen(false);
          }}
          className={`w-full px-4 py-3 text-left text-sm transition-colors ${
            selectedValue === option.value
              ? "text-white"
              : "text-white/70 hover:text-white hover:bg-white/5"
          }`}
          style={
            selectedValue === option.value
              ? { backgroundColor: `${primaryColor}30` }
              : {}
          }
        >
          {option.label}
        </button>
      ))}
    </motion.div>
  )}
</AnimatePresence>
```

### 9.5 Estilos y Tokens

#### Contenedor Principal

| Propiedad   | Valor      |
| ----------- | ---------- |
| `min-width` | `160px`    |
| `position`  | `relative` |

#### Bot√≥n Trigger

| Propiedad                 | Valor                                 |
| ------------------------- | ------------------------------------- |
| `padding`                 | `14px 16px` (`py-3.5 px-4`)           |
| `border-radius`           | `12px` (`rounded-xl`)                 |
| `border-width`            | `2px`                                 |
| `background`              | `var(--org-card-background, #1E2329)` |
| `border-color (inactivo)` | `rgba(255,255,255,0.1)`               |
| `border-color (activo)`   | `${primaryColor}`                     |

#### Men√∫ Desplegable

| Propiedad       | Valor                    |
| --------------- | ------------------------ |
| `margin-top`    | `8px` (`mt-2`)           |
| `border-radius` | `12px` (`rounded-xl`)    |
| `border-color`  | `rgba(255,255,255,0.15)` |
| `box-shadow`    | `shadow-2xl`             |
| `z-index`       | `50`                     |

#### Opciones

| Estado       | Background               | Text Color              |
| ------------ | ------------------------ | ----------------------- |
| Normal       | `transparent`            | `rgba(255,255,255,0.7)` |
| Hover        | `rgba(255,255,255,0.05)` | `white`                 |
| Seleccionado | `${primaryColor}30`      | `white`                 |

### 9.6 Animaciones

#### Chevron Icon

```tsx
animate={{ rotate: isDropdownOpen ? 180 : 0 }}
```

#### Men√∫ Entrada

```tsx
initial={{ opacity: 0, y: -10, scale: 0.95 }}
animate={{ opacity: 1, y: 0, scale: 1 }}
transition={{ duration: 0.15 }}
```

#### Men√∫ Salida

```tsx
exit={{ opacity: 0, y: -10, scale: 0.95 }}
```

### 9.7 Comportamiento UX

1. **Click Toggle**: El men√∫ se abre/cierra al hacer clic en el bot√≥n
2. **Auto-cierre**: Al seleccionar una opci√≥n, el men√∫ se cierra
3. **M√∫ltiples Dropdowns**: Si hay varios dropdowns, al abrir uno se cierra el otro
4. **Indicador Visual**: El borde cambia de color cuando hay una selecci√≥n diferente a "todos"
5. **Animaci√≥n de Chevron**: El icono rota 180¬∞ para indicar el estado

### 9.8 Ejemplo de Uso con M√∫ltiples Dropdowns

```tsx
const [isRoleDropdownOpen, setIsRoleDropdownOpen] = useState(false)
const [isStatusDropdownOpen, setIsStatusDropdownOpen] = useState(false)

// Al abrir un dropdown, cerrar el otro
onClick={() => {
  setIsRoleDropdownOpen(!isRoleDropdownOpen)
  setIsStatusDropdownOpen(false)  // Cerrar el otro
}}
```

### 9.9 Cu√°ndo Usar Este Patr√≥n

‚úÖ **Usar Premium Dropdown para:**

- Filtros de b√∫squeda
- Selectores de rol, estado, categor√≠a
- Cualquier selector que reemplace un `<select>` nativo
- Men√∫s de ordenamiento

‚ùå **NO usar para:**

- Men√∫s de navegaci√≥n (usar Sidebar o NavigationMenu)
- Acciones contextuales (usar ContextMenu)
- Autocompletado de b√∫squeda (usar ComboBox con input)

---

## 10. Patr√≥n Premium DatePicker

### 10.1 Descripci√≥n

El **Premium DatePicker** es el componente oficial para selecci√≥n de fechas en SOFIA. Reemplaza el date picker nativo del navegador con un dise√±o moderno, animado y completamente integrado con los colores de la organizaci√≥n.

### 10.2 Estructura Visual

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  üìÖ  Seleccionar fecha                      ‚úï   ‚îÇ  ‚Üê Trigger Button
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

         ‚Üì (Al hacer clic)

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   ‚Üê     Diciembre 2024                      ‚Üí   ‚îÇ  ‚Üê Header con navegaci√≥n
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Dom  Lun  Mar  Mi√©  Jue  Vie  S√°b              ‚îÇ  ‚Üê D√≠as de la semana
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   1    2    3    4    5    6    7               ‚îÇ
‚îÇ   8    9   10   11   12   13   14               ‚îÇ
‚îÇ  15   16   17   18   19  [20]  21               ‚îÇ  ‚Üê D√≠a seleccionado
‚îÇ  22   23   24   25   26   27   28               ‚îÇ
‚îÇ  29   30   31    1    2    3    4               ‚îÇ  ‚Üê D√≠as del siguiente mes
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   Limpiar                              Hoy      ‚îÇ  ‚Üê Footer con acciones
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 10.3 Componentes

#### Trigger Button

- **Fondo**: `${cardBackground}80`
- **Borde**: `rgba(255,255,255,0.1)` ‚Üí `primaryColor` cuando est√° abierto
- **Box Shadow activo**: `0 0 0 3px ${primaryColor}20`
- **Icono de calendario**: Color `primaryColor`
- **Bot√≥n X para limpiar**: Visible cuando hay fecha seleccionada

#### Calendar Popup

- **Fondo**: `cardBackground`
- **Borde**: `rgba(255,255,255,0.1)`
- **Sombra**: `0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px ${primaryColor}20`
- **Border radius**: `1rem` (16px)
- **Padding**: `1rem`
- **Min-width**: `320px`

### 10.4 Estados de D√≠as

| Estado        | Background          | Color          | Box Shadow                     |
| ------------- | ------------------- | -------------- | ------------------------------ |
| Normal        | `transparent`       | `textColor`    | ninguno                        |
| Hover         | animaci√≥n scale 1.1 | -              | -                              |
| Hoy           | `${primaryColor}20` | `primaryColor` | + punto indicador              |
| Seleccionado  | `primaryColor`      | `#FFFFFF`      | `0 4px 15px ${primaryColor}40` |
| Otro mes      | opacity: 0.3        | -              | -                              |
| Deshabilitado | -                   | opacity: 0.3   | cursor: not-allowed            |

### 10.5 Animaciones

#### Popup Entrada

```tsx
initial={{ opacity: 0, y: -10, scale: 0.95 }}
animate={{ opacity: 1, y: 0, scale: 1 }}
transition={{ type: 'spring', stiffness: 400, damping: 25 }}
```

#### Popup Salida

```tsx
exit={{ opacity: 0, y: -10, scale: 0.95 }}
```

#### D√≠as Hover

```tsx
whileHover={{ scale: 1.1 }}
whileTap={{ scale: 0.9 }}
```

#### Navegaci√≥n de Mes

```tsx
// Chevron izquierdo
whileHover={{ scale: 1.1, x: -2 }}

// Chevron derecho
whileHover={{ scale: 1.1, x: 2 }}
```

### 10.6 Footer

- **Bot√≥n Limpiar**: Texto simple con hover `bg-white/5`
- **Bot√≥n Hoy**: Background `${accentColor}20`, color `accentColor`

### 10.7 Props del Componente

```tsx
interface PremiumDatePickerProps {
  value: string; // Formato YYYY-MM-DD
  onChange: (date: string) => void;
  placeholder?: string; // Default: "Seleccionar fecha"
  minDate?: Date; // Fecha m√≠nima permitida
  maxDate?: Date; // Fecha m√°xima permitida
  disabled?: boolean; // Deshabilitar el picker
  className?: string; // Clases adicionales
}
```

### 10.8 Ejemplo de Uso

```tsx
import { PremiumDatePicker } from '@/features/business-panel/components/PremiumDatePicker'

const [dueDate, setDueDate] = useState('')

<PremiumDatePicker
  value={dueDate}
  onChange={setDueDate}
  placeholder="Fecha l√≠mite (opcional)"
  minDate={new Date()}
/>
```

### 10.9 Cu√°ndo Usar Este Patr√≥n

‚úÖ **Usar Premium DatePicker para:**

- Selecci√≥n de fechas l√≠mite
- Filtros de fecha
- Programaci√≥n de eventos
- Cualquier input de tipo fecha

‚ùå **NO usar para:**

- Rangos de fecha (crear componente espec√≠fico)
- Selecci√≥n de hora (crear TimePicker)

---

**√öltima actualizaci√≥n**: Diciembre 2024
**Versi√≥n**: 1.5

## 11. Patr√≥n de Men√∫ de Usuario: Standard User Dropdown

### 11.1 Descripci√≥n

El **Standard User Dropdown** es el componente de men√∫ de usuario unificado para toda la plataforma SOFIA. Sigue el dise√±o implementado en el **Business Panel**, garantizando consistencia visual, animaciones fluidas y una estructura clara de informaci√≥n.

### 11.2 Caracter√≠sticas del Patr√≥n

- **Contenedor Flotante Premium**: Uso de `backdrop-blur`, bordes sutiles y sombras elevadas.
- **Cabecera de Usuario**: Secci√≥n destacada con avatar (con anillo de color), nombre y rol.
- **Animaciones**: Entrada/salida suave con escalado y opacidad usando Framer Motion.
- **Iconograf√≠a Consistente**: Uso de iconos Lucide con opacidad reducida (70%) que se aclaran al hover.
- **Micro-interacciones**: Efecto de deslizamiento (`x: 2`) al hacer hover en las opciones.

### 11.3 Estructura del Componente

```tsx
// Dropdown Menu Container
<motion.div
  initial={{ opacity: 0, y: -8, scale: 0.95 }}
  animate={{ opacity: 1, y: 0, scale: 1 }}
  exit={{ opacity: 0, y: -8, scale: 0.95 }}
  className="absolute right-0 mt-2 w-56 rounded-xl border backdrop-blur-xl shadow-xl z-[999] overflow-hidden"
  style={{
    backgroundColor: 'var(--bg-panel, rgba(15, 23, 42, 0.85))',
    borderColor: 'var(--border-panel, rgba(71, 85, 105, 0.3))'
  }}
>
  {/* 1. Header de Usuario */}
  <div className="px-4 py-3 border-b border-white/10">
    <div className="flex items-center gap-3">
      {/* Avatar con Ring de Gradiente */}
      <div
        className="h-10 w-10 rounded-full flex items-center justify-center ring-2 ring-white/20"
        style={{ background: 'linear-gradient(135deg, var(--color-primary), var(--color-active))' }}
      >
        <img src={user.avatar} className="h-full w-full rounded-full object-cover" />
      </div>

      {/* Detalle Texto */}
      <div className="flex-1 min-w-0">
        <p className="text-sm font-semibold truncate text-white">
          {user.name}
        </p>
        <p className="text-xs truncate opacity-70 text-white">
          {user.role}
        </p>
      </div>
    </div>
  </div>

  {/* 2. Opciones del Men√∫ */}
  <div className="py-1.5">
    <MenuOption icon={LayoutDashboard} label="Panel Principal" onClick={...} />
    <MenuOption icon={User} label="Editar Perfil" onClick={...} />

    {/* Submen√∫ (ej. Idioma) */}
    <div className="relative">
       <MenuOption icon={Globe} label="Idioma" hasSubmenu />
       {/* L√≥gica de submen√∫ recursivo o expandible */}
    </div>

    <div className="my-1 border-t border-white/10" />

    <MenuOption icon={LogOut} label="Cerrar Sesi√≥n" isDestructive onClick={handleLogout} />
  </div>
</motion.div>
```

### 11.4 Componente de Opci√≥n (Menu Item)

```tsx
const MenuOption = ({ icon: Icon, label, onClick, isDestructive }) => (
  <motion.button
    onClick={onClick}
    className={`w-full flex items-center gap-3 px-4 py-2.5 text-sm transition-colors 
      ${isDestructive ? "text-red-400 hover:opacity-80" : "text-white/80 hover:bg-white/5"}`}
    whileHover={{ x: 2 }}
  >
    <Icon className="h-4 w-4 opacity-70" />
    <span>{label}</span>
  </motion.button>
);
```

### 11.5 Especificaciones Visuales

#### Contenedor

- **Ancho**: `w-56` (224px)
- **Radio**: `rounded-xl` (12px)
- **Fondo**: Se recomienda usar colores con transparencia (alpha 0.85 - 0.95) para el efecto backdrop.
- **Z-Index**: `z-[999]` para asegurar que flote sobre otros elementos UI.

#### Avatar en Header

- **Tama√±o**: `h-10 w-10` (40px)
- **Anillo**: `ring-2` con color sutil (`white/20`) para separar del fondo.
- **Fondo de fallback**: Gradiente lineal entre el color primario y secundario de la marca.

#### Tipograf√≠a

- **Nombre**: `text-sm font-semibold`
- **Rol/Email**: `text-xs opacity-70`

### 11.6 Implementaci√≥n de Referencia

Para ver la implementaci√≥n "canonical" de este dise√±o, consultar archivo:
`apps/web/src/features/business-panel/components/BusinessPanelHeader.tsx`
